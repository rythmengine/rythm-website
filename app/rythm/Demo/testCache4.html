@args boolean enableCache
@extends(main)
@set(title:"Cache4")

<div>
    <h2>@get("title") <small></small></h2>
</div>

<form action="@url(Demo.testCache4)">
    <input type="hidden" name="enableCache" value="@(!enableCache)"/>

    <div>
        <button id="toggle-cache" class="btn @(enableCache ? "btn-danger" : "btn-success")" type="submit"><i class="icon-off"></i> @(enableCache ? "Disable" : "Enable") cache</button>
        <button id="refresh" class="btn" type="button"><i class="icon-refresh"></i> Refresh</button>
        <span>Currently cache4 is @(enableCache ? "enabled" : "disabled")</span>
    </div>
</form>

<div>
    <p><i>Note: enable cache and click refresh button below you will notice the iframe timestamp will remain unchanged for 3 seconds.</i></p>
</div>

<hr/>

<iframe id="check" src="@url(Demo.cachedTS())"></iframe>

@section("moreScripts") {
<script type="text/javascript">
//<![CDATA[
    $(function(){

        $('#refresh').click(function(){
            window.frames.check.location.reload();
        });
    });
//]]>
</script>
}